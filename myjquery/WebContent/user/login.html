<!DOCTYPE html>
<html lang="ko">
<!--
<head>
<title>로그인</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
trigger을 사용하려면 cdn host가 한군데에만 있어야한다 
-->


<script>
function login() {	
	$.ajax({
		url:"/myjquery/login",
		data:$("form").serialize(),
		method:'post',	
		success:function(result){
			if(result.trim() == '1'){ //성공
				location.href="/myjquery/semantic.jsp";
			}else{ //실패
				alert(result.trim());	
			}			
		},
		error:function( jqXHR, textStatus, errorThrown){
			alert(errorThrown);
		}
	});
	return false;
} 
$(document).ready(function() {
	var $loginFormObj = $("#loginform");
	$loginFormObj.submit(login);
	var $registerBtnObj = $("#moveRegisterBtn");//회원가입버튼객체
	$registerBtnObj.click(function(){
		$("nav>ul>li>a[href='user/signup.html']").trigger("click"); //trigger : 강제로 이벤트를 발생시킨다  
	});
});
</script>
<div class="container" align="center">
	<div class="col-lg-6" align="center">
		<h2>로그인</h2>
		<form id="loginform" method="post" action="">
			<div class="form-group" align="left">
				<label for="">아이디</label>
				<input type="text" class="form-control" id="id" name="id" 
				       placeholder="" 
				       required>
			</div>
			<div class="form-group" align="left">
				<label for="">비밀번호</label>
				<input type="password" class="form-control" id="pass" name="pass" 
				       placeholder="" 
				       required>
			</div>
		
		</form>
		<div class="form-group" align="center">
		  <button class="btn btn-warning" form="loginform" id="loginBtn">로그인</button>
		  <button class="btn btn-primary" id="moveRegisterBtn">회원가입</button>
	    </div>
	</div>
</div>